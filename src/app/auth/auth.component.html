<div class="login-page" [@routerTransition]>
<div class="row justify-content-md-center">
    <div class="col-md-4">
        <img src="assets/images/logo.png" width="150px" class="user-avatar" />
        <h1>P2 POWER Login</h1>
        <p *ngIf='didLogin'>
        Welcome! Get started <a [routerLink]="['/d/dashboard']">here</a>.<br/><br/>
        </p>
        <p *ngIf='tokenExists'>
        <a routerLink='/logout'>logout</a>
        </p>
        <form role="form" *ngIf='!userData && !tokenExists' [formGroup]='loginForm'
                             #ourLoginDir='ngForm' (submit)='handleSubmit($event, ourLoginDir, loginForm)'>
            <div class="form-content">
                <p *ngIf='loginErrors'>{{ loginErrors }}</p>
                <div class="form-group">
                    <input type='text' class="form-control input-underline input-lg" id='username' formControlName='usernameField' placeholder="Username">
                </div>
                <div *ngIf='usernameField.invalid && (usernameField.dirty || usernameField.touched)'>
                    <div *ngIf='usernameField.errors.required'>
                        Username is required.
                    </div>
                    <div *ngIf='usernameField.errors.maxlength'>
                        Max length is 280
                    </div>
                    <div *ngIf='usernameField.errors.minlength'>
                        Min length is 4
                    </div>
                </div>

                <div class="form-group">
                    <input type='password' class="form-control input-underline input-lg" id='password' formControlName='passwordField' placeholder="Password">
                </div>
                <div *ngIf='passwordField.invalid && (passwordField.dirty || passwordField.touched)'>
                    <div *ngIf='passwordField.errors.required'>
                        Password is required.
                    </div>
                    <div *ngIf='passwordField.errors.maxlength'>
                        Max length is 280
                    </div>
                    <div *ngIf='passwordField.errors.minlength'>
                        Min length is 4
                    </div>
                </div>
            </div>
            <button class="btn rounded-btn" type='submit' [disabled]='loginForm.invalid'>Log in</button>
            &nbsp;
            <a class="btn rounded-btn" type='button' (click)='ourLoginDir.resetForm({})'>Reset</a>
        </form>
    </div>
</div>
</div>
  